<html><head><title>AXI config extension SV example</title><link rel="stylesheet" type="text/css" href="../../../../styles/main.css"><script language=JavaScript src="../../../../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 01-12-2008 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org --> 








 <!--TOP - START OF CONTENT-->
<div id=Content>


 <!--CONTENT index=0 -->
<div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="AXI_config_extension_SV_example" href="../../../../uvmc/examples/config_exts/common/AxiConfigPkg.sv">AXI config extension SV example</a></h1><div class=CBody><p>For the SV-side we necessarily define all the AXi config fields exactly identically to those for the SC-side.&nbsp; See <a href="AxiConfig-h.html#AXI_config_extension_SC_example" class=LSection >AXI config extension SC example</a> for details of field definitions for static and sideband configuration extensions.</p>

<!--START_ND_SUMMARY index=0-->
<div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable>
  <!-- index=0 -->

<tr class="SMain"><td colspan=2 class=SEntry><a href="#AXI_config_extension_SV_example" >AXI config extension SV example</a></td></tr>
<tr class=SMain><td colspan=2 class=SWideDescription>For the SV-side we necessarily define all the AXi config fields exactly identically to those for the SC-side. </td></tr>
  <!-- index=1 -->

<tr class="SGroup SIndent1"><td class=SEntry><a href="#package_AxiConfigPkg(SV-side_definition)" >package AxiConfigPkg (SV-side definition)</a></td><td class=SDescription>For the SV-side we define a package to contain the config extension class as well as the <b>class AxiConfig</b> definition itself, again as an extension of reusable <b>class uvmc_xl_config</b>.</td></tr>
  <!-- index=2 -->

<tr class="SGeneric SIndent2 SMarked"><td class=SEntry><a href="#class_AxiConfig(SV-side_definition)" >class AxiConfig (SV-side definition)</a></td><td class=SDescription>This is an AXI master transactor protocol specific extension to the TLM generic payload that can be used as an ignorable extension to the generic payload transactions used by AXI master initiators.</td></tr>
  <!-- index=3 -->

<tr class="SGeneric SIndent2"><td class=SEntry><a href="#AXI_configuration_register_field_accessors" >AXI configuration register field accessors</a></td><td class=SDescription>Like its SC-side counterpart, our <b>class AxiConfig</b> will need special accessors to access the individual register fields to <i>set</i> and <i>get</i> individual register field values. </td></tr></table></div></div><!--END_ND_SUMMARY-->
</div></div></div>




 <!--CONTENT index=1 -->
<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="package_AxiConfigPkg(SV-side_definition)" href="../../../../uvmc/examples/config_exts/common/AxiConfigPkg.sv">package AxiConfigPkg (SV-side definition)</a></h3><div class=CBody><p>For the SV-side we define a package to contain the config extension class as well as the <b>class AxiConfig</b> definition itself, again as an extension of reusable <b>class uvmc_xl_config</b>.</p><blockquote><pre>package AxiConfigPkg; // {</pre></blockquote></div></div></div>




 <!--CONTENT index=2 -->
<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="class_AxiConfig(SV-side_definition)" href="../../../../uvmc/examples/config_exts/common/AxiConfigPkg.sv">class AxiConfig (SV-side definition)</a></h3><div class=CBody><p>This is an AXI master transactor protocol specific extension to the TLM generic payload that can be used as an ignorable extension to the generic payload transactions used by AXI master initiators.</p><p>Notice that in the SV-side definition, the static and sideband configuration dimensioning is done using class parametrization (in contrast to SC-side which uses constructor args).</p><p>See comments in SC-side AxiConfig.h for more details.</p><blockquote><pre>class AxiConfig extends uvmc_xl_config #(
    ( 16*2 + 8*3 ) / 8,      // staticConfigNumBytes
    ( 32*1 + 8*1 ) / 8 );    // sidebandConfigNumBytes
// {
    `uvm_object_utils( AxiConfig )

// ...</pre></blockquote></div></div></div>




 <!--CONTENT index=3 -->
<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="AXI_configuration_register_field_accessors" href="../../../../uvmc/examples/config_exts/common/AxiConfigPkg.sv">AXI configuration register field accessors</a></h3><div class=CBody><p>Like its SC-side counterpart, our <b>class AxiConfig</b> will need special accessors to access the individual register fields to <i>set</i> and <i>get</i> individual register field values.&nbsp; See <i>AxiConfig.h</i> for more explanation of the SC-side accessors as these are defined in an identical way here.</p><blockquote><pre>// Static config 'set' accessors
function void setDataWidth( int unsigned dataWidth );
    set_static_config( dataWidth, 0, 16 ); endfunction
function void setAddrWidth( int unsigned addrWidth );
    set_static_config( addrWidth, 16, 16 ); endfunction

function void setLockType( axi_lock_e lockType );
    set_static_config( unsigned'(lockType), 32, 8 ); endfunction
function void setCacheType( axi_cache_e cacheType );
    set_static_config( unsigned'(cacheType), 40, 8 ); endfunction
function void setProtType( axi_prot_e protType );
    set_static_config( unsigned'(protType), 48, 8 ); endfunction

// Sideband config 'set' accessors
function void setAid( int unsigned aid );
    set_sideband_config( aid, 0, 32 ); endfunction
function void setBurstType( axi_burst_e burstType );
    set_sideband_config( unsigned'(burstType), 32, 8 ); endfunction

// Static config 'get' accessors
function int unsigned getDataWidth();
    return get_static_config(  0, 16 ); endfunction
function int unsigned getAddrWidth();
    return get_static_config( 16, 16 ); endfunction

function axi_lock_e getLockType();
    return axi_lock_e'(get_static_config( 32, 8 )); endfunction
function axi_cache_e getCacheType();
    return axi_cache_e'(get_static_config( 40, 8 )); endfunction
function axi_prot_e getProtType();
    return axi_prot_e'(get_static_config( 48, 8 )); endfunction

// Sideband config 'get' accessors
function int unsigned getAid();
    return get_sideband_config( 0, 32 ); endfunction
function axi_burst_e getBurstType();
    return axi_burst_e'(get_sideband_config( 32, 8 )); endfunction</pre></blockquote></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>