<html><head><title>Configuration extensions</title><link rel="stylesheet" type="text/css" href="../../../styles/main.css"><script language=JavaScript src="../../../javascript/main.js"></script></head><body class="FramedContentPage" onLoad="NDOnLoad()"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version Development Release 01-12-2008 (1.35 base) -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org --> 








 <!--TOP - START OF CONTENT-->
<div id=Content>


 <!--CONTENT index=0 -->
<div class="CSection"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="Configuration_extensions" href="../../../uvmc/examples/config_exts/README.txt">Configuration extensions</a></h1><div class=CBody>

<!--START_ND_SUMMARY index=0-->
<div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable>
  <!-- index=0 -->

<tr class="SMain"><td colspan=2 class=SEntry><a href="#Configuration_extensions" >Configuration extensions</a></td></tr>
<tr class=SMain><td colspan=2 class=SWideDescription></td></tr>
  <!-- index=1 -->

<tr class="SGeneric SIndent1"><td class=SEntry><a href="#Introduction" >Introduction</a></td><td class=SDescription>Configuration extensions are <u>ignorable extensions</u> (in the sense of TLM-2.0 generic payloads) that can be used to pass configurations which accompany generic payloads that travel from TLM-2.0 initiators to targets.</td></tr>
  <!-- index=2 -->

<tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Static_configurations" >Static configurations</a></td><td class=SDescription></td></tr>
  <!-- index=3 -->

<tr class="SGeneric SIndent1 SMarked"><td class=SEntry><a href="#Sideband_configurations" >Sideband configurations</a></td><td class=SDescription></td></tr>
  <!-- index=4 -->

<tr class="SGroup SIndent1"><td class=SEntry><a href="#How_to_use_configuration_extensions" >How to use configuration extensions</a></td><td class=SDescription></td></tr>
  <!-- index=5 -->

<tr class="SGeneric SIndent2"><td class=SEntry><a href="#Defining_your_config_extension_classes" >Defining your config extension classes</a></td><td class=SDescription>NOTE: The <b>class uvmc_xl_config</b> TLM GP extension is designed to be used <b>only</b> with TLM GPs passed to the <b>class uvmc_xl_converter</b> fast packer described above. </td></tr>
  <!-- index=6 -->

<tr class="SGeneric SIndent2 SMarked"><td class=SEntry><a href="#Running_the_examples" >Running the examples</a></td><td class=SDescription>For examples that use the configuration extensions see,</td></tr></table></div></div><!--END_ND_SUMMARY-->
</div></div></div>




 <!--CONTENT index=1 -->
<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Introduction" href="../../../uvmc/examples/config_exts/README.txt">Introduction</a></h3><div class=CBody><p>Configuration extensions are <u>ignorable extensions</u> (in the sense of TLM-2.0 generic payloads) that can be used to pass configurations which accompany generic payloads that travel from TLM-2.0 initiators to targets.</p><p>The UVMC config extension base class <b>uvmc_xl_config</b> contains a simple abstraction of a set <u>configuration registers</u> that can act as shadows of the associated configuration register set one might find in the target model.</p><p>There are two types of configuration extensions that are handled by <b>class uvmc_xl_config</b>,</p><ul><li>Static configurations</li><li>Sideband configurations</li></ul></div></div></div>




 <!--CONTENT index=2 -->
<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Static_configurations" href="../../../uvmc/examples/config_exts/README.txt">Static configurations</a></h3><div class=CBody><ul><li>Static configurations are sent as separate dedicated transactions to update configuration register sets on the target side of the connection.</li><li>Static configs can be used for configuring things that don&rsquo;t change often such as UART baud rate, AXI randomized wait state bounds and cross channel latencies.</li></ul></div></div></div>




 <!--CONTENT index=3 -->
<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Sideband_configurations" href="../../../uvmc/examples/config_exts/README.txt">Sideband configurations</a></h3><div class=CBody><ul><li>Sideband confgurations are unconditionally sent with each and every generic payload transaction along the forward path to the target.</li><li>These should be used for things that typically change as frequently as every transaction such as tid&rsquo;s for AXI transactions, tags for Wishbone transactions, etc.</li></ul></div></div></div>




 <!--CONTENT index=4 -->
<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="How_to_use_configuration_extensions" href="../../../uvmc/examples/config_exts/README.txt">How to use configuration extensions</a></h3></div></div>




 <!--CONTENT index=5 -->
<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Defining_your_config_extension_classes" href="../../../uvmc/examples/config_exts/README.txt">Defining your config extension classes</a></h3><div class=CBody><p>NOTE: The <b>class uvmc_xl_config</b> TLM GP extension is designed to be used <b>only</b> with TLM GPs passed to the <b>class uvmc_xl_converter</b> fast packer described above.&nbsp; You can attach them to TLM GPs that use other packers but the extension itself may not accompany the TLM GP across the TLM channel in that case (certainly not for UVMC <i>default converters</i> or <b>class uvmc_tlm_gp_converter</b> fast packers).</p><p>For the config extensions themselves see the <b>class uvmc_xl_config</b> definitions in these files,</p><blockquote><pre>src/connect/
  sc/uvmc_xl_config.*
  sv/uvmc_xl_config.svh</pre></blockquote><p>To create a custom configuration extension suitable for passing static or sideband configurations attached to TLM GPs across UVM-Connect&rsquo;ions, simply define a class that derives from <b>class uvmc_xl_config</b> for each language (SC, SV).</p><p>For use by the examples to follow, we&rsquo;ll first define a custom configuration extension for TLM GP&rsquo;s that one might see being used with the AXI protocol.</p><p>Please see the section <a href="common/AxiConfig-h.html#Customizing_class_uvmc_xl_config_for_AXI_configuration" class=LGeneric id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">Customizing class uvmc_xl_config for AXI configuration</a> below for more details but here we simply show how the class is defined and how the constructor is done for each language.&nbsp; In both cases a custom configuration extension is created for the AXI master TLM connections in the examples by deriving the custom config from <b>class uvmc_xl_config</b> as follows,</p><ul><li>For SC-side,</li></ul><blockquote><pre>class AxiConfig : public uvmc::uvmc_xl_config {

  public:
    AxiConfig()
      : uvmc::uvmc_xl_config(
          ( 16*2 + 8*3 ) / 8,      // staticConfigNumBytes
          ( 32*1 + 8*1 ) / 8 ) { } // sidebandConfigNumBytes
...</pre></blockquote><ul><li>for SV-side,</li></ul><blockquote><pre>class AxiConfig extends uvmc_xl_config #(
    ( 16*2 + 8*3 ) / 8,      // staticConfigNumBytes
    ( 32*1 + 8*1 ) / 8 );    // sidebandConfigNumBytes

    `uvm_object_utils( AxiConfig )</pre></blockquote><p>Note that in both cases the <b>class uvmc_xl_config</b> is dimensioned to the number of bytes in the static configuration and the number of bytes in the sideband configuration.&nbsp; In the case of SC the dimensions are given in the constructor whereas in the case of SV they are given with class parametrizations.</p><p>The single configuration extension class definition will handle both types of configurations in all TLM GP transaction communications.</p><p>So those are the basics of how to create a custom configuration.&nbsp; Again see the section <a href="common/AxiConfig-h.html#Customizing_class_uvmc_xl_config_for_AXI_configuration" class=LGeneric id=link2 onMouseOver="ShowTip(event, 'tt1', 'link2')" onMouseOut="HideTip('tt1')">Customizing class uvmc_xl_config for AXI configuration</a> for more details about the example AXI configuration that is used in the examples and how to perform <i>config query</i> and <i>config update</i> operations on the various config register fields that are managed by the <b>class AxiConfig</b> config extension itself.</p></div></div></div>




 <!--CONTENT index=6 -->
<div class="CGeneric"><div class=CTopic><h3 class=CTitle><a name="Running_the_examples" href="../../../uvmc/examples/config_exts/README.txt">Running the examples</a></h3><div class=CBody><p>For examples that use the configuration extensions see,</p><blockquote><pre>examples/config_exts/Makefile</pre></blockquote><p>This directory contains several examples of TLM-2 UVM-Connect&rsquo;ions that pass TLM-2 generic payloads (TLM GPs) between SystemC (SC) and SystemVerilog (SV).</p><p>They modified variants of tests lifted from <i>examples/xlerate.connections</i>, namely the following two,</p><blockquote><pre>TESTS = \
  sc2sv2sc_xl_gp_converter_loopback_whole_image_payloads \
  sv2sc2sv_xl_gp_converter_loopback_whole_image_payloads</pre></blockquote><p>This allows illustrations for config extension <i>update</i> or <i>query</i> operations traveling from SC -&gt; SV -&gt; SC or from SV -&gt; SC -&gt; SV respectively.</p><p>Use <i>make help</i> to view the menu of available tests,</p><blockquote><pre>make help</pre></blockquote><p>To run just one test such as <i>sc2sv2sc_xl_gp_converter_loopback_whole_image_payloads</i>,</p><blockquote><pre>make sc2sv2sc_xl_gp_converter_loopback_whole_image_payloads</pre></blockquote><p>This compiles then runs the <i>sc2sv2sc_xl_gp_converter_loopback_whole_image_payloads</i> test.</p><p>To run all tests, check them, and clean up afterwards, i.e.&nbsp; <i>sim:</i>, <i>check:</i>, and <i>clean:</i> targets, use the <i>all:</i> target as follows,</p><blockquote><pre>make all</pre></blockquote><p>Or you can run individual sub-targets.</p><p>The <i>sim</i> target compiles and runs all the tests.</p><blockquote><pre>make sim</pre></blockquote><p>The <i>check</i> target checks results of all the tests.</p><blockquote><pre>make check</pre></blockquote><p>The <i>clean</i> target deletes all the simulation files produced from previous runs.</p><blockquote><pre>make clean</pre></blockquote><p>You can combine targets in one command line</p><blockquote><pre>make sim check</pre></blockquote><p>The following runs the &lsquo;sim&rsquo; target, providing the path to the UVM source and compiled library on the <i>make</i> command line.</p><blockquote><pre>make UVM_HOME=&lt;path&gt; UVM_LIB=&lt;path&gt; sim</pre></blockquote><blockquote><pre>//------------------------------------------------------------//
//   Copyright 2009-2015 Mentor Graphics Corporation          //
//   All Rights Reserved Worldwide                            //
//                                                            //
//   Licensed under the Apache License, Version 2.0 (the      //
//   &quot;License&quot;); you may not use this file except in          //
//   compliance with the License.  You may obtain a copy of   //
//   the License at                                           //
//                                                            //
//       http://www.apache.org/licenses/LICENSE-2.0           //
//                                                            //
//   Unless required by applicable law or agreed to in        //
//   writing, software distributed under the License is       //
//   distributed on an &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR   //
//   CONDITIONS OF ANY KIND, either express or implied.  See  //
//   the License for the specific language governing          //
//   permissions and limitations under the License.           //
//------------------------------------------------------------//</pre></blockquote></div></div></div>

</div><!--Content-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CGeneric>This example demonstrates an AXI master transactor protocol specific extension to the TLM generic payload that can be used as an ignorable extension to the generic payload transactions used by AXI master initiators and targets.</div></div><!--END_ND_TOOLTIPS-->

<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>